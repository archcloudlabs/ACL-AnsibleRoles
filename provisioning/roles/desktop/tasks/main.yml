---
- name: Install Desktop Packages
  community.general.pacman:
    update_cache: true
    name: "{{ item }}"
  with_items:
    - aalib
    - aardvark-dns
    - abseil-cpp
    - acl
    - adobe-source-code-pro-fonts
    - adwaita-cursors
    - adwaita-icon-theme
    - adwaita-icon-theme-legacy
    - alsa-card-profiles
    - alsa-lib
    - alsa-topology-conf
    - alsa-ucm-conf
    - amd-ucode
    - ansible
    - ansible-core
    - aom
    - apparmor
    - appstream
    - archlinux-keyring
    - arduino-builder
    - arduino-cli
    - arduino-ctags
    - arduino-language-server
    - argon2
    - arj
    - at-spi2-core
    - atool
    - attr
    - audit
    - autoconf
    - automake
    - avahi
    - base
    - base-devel
    - bash
    - bash-completion
    - bear
    - bind
    - binutils
    - binwalk
    - bison
    - blueman
    - bluez
    - bluez-libs
    - bluez-utils
    - breezy
    - bridge-utils
    - brotli
    - btrfs-progs
    - bubblewrap
    - buildah
    - bzip2
    - c-ares
    - ca-certificates
    - ca-certificates-mozilla
    - ca-certificates-utils
    - cabextract
    - cairo
    - cairomm-1.16
    - cantarell-fonts
    - capstone
    - catatonit
    - cdparanoia
    - clang
    - compiler-rt
    - composefs
    - confuse
    - conmon
    - containerd
    - containers-common
    - coreutils
    - cpio
    - criu
    - crun
    - cryptsetup
    - curl
    - dav1d
    - db5.3
    - dbus
    - dbus-broker
    - dbus-broker-units
    - dbus-units
    - dconf
    - debugedit
    - default-cursors
    - desktop-file-utils
    - device-mapper
    - dhcpcd
    - diffutils
    - ding-libs
    - dkms
    - dmenu
    - dmidecode
    - dnsmasq
    - dnssec-anchors
    - docker
    - docker-compose
    - dtc
    - duktape
    - dvisvgm
    - e2fsprogs
    - edk2-aarch64
    - edk2-arm
    - edk2-ovmf
    - efibootmgr
    - efivar
    - elfutils
    - elinks
    - ell
    - emacs
    - expat
    - fakeroot
    - fd
    - feh
    - ffcall
    - ffmpeg
    - fftw
    - file
    - filesystem
    - findutils
    - firefox
    - flac
    - flatpak
    - flatpak-builder
    - flatpak-docs
    - flex
    - fmt
    - fontconfig
    - freeglut
    - freetype2
    - fribidi
    - fuse-common
    - fuse2
    - fuse3
    - gawk
    - gc
    - gcc
    - gcc-libs
    - gcr-4
    - gd
    - gdbm
    - gdk-pixbuf2
    - geoclue
    - gettext
    - ghc-libs
    - ghidra
    - ghostscript
    - giflib
    - git
    - glib-networking
    - glib2
    - glibc
    - glibmm-2.68
    - glslang
    - glu
    - gmp
    - gnu-free-fonts
    - gnupg
    - gnutls
    - go
    - gobject-introspection-runtime
    - gopls
    - gperftools
    - gpgme
    - gpm
    - graphene
    - graphite
    - graphviz
    - grep
    - groff
    - grpc
    - gsettings-desktop-schemas
    - gsettings-system-schemas
    - gsfonts
    - gsm
    - gssdp
    - gssproxy
    - gst-plugin-pipewire
    - gst-plugins-bad-libs
    - gst-plugins-base
    - gst-plugins-base-libs
    - gst-plugins-good
    - gstreamer
    - gtest
    - gtk-layer-shell
    - gtk-update-icon-cache
    - gtk-vnc
    - gtk3
    - gtk4
    - gtkmm-4.0
    - gtksourceview4
    - gts
    - guile
    - gupnp
    - gupnp-igd
    - gzip
    - harfbuzz
    - haskell-aeson
    - haskell-aeson-pretty
    - haskell-ansi-terminal
    - haskell-ansi-terminal-types
    - haskell-ansi-wl-pprint
    - haskell-appar
    - haskell-asn1-encoding
    - haskell-asn1-parse
    - haskell-asn1-types
    - haskell-assoc
    - haskell-async
    - haskell-attoparsec
    - haskell-attoparsec-aeson
    - haskell-attoparsec-iso8601
    - haskell-auto-update
    - haskell-base-compat
    - haskell-base-compat-batteries
    - haskell-base-orphans
    - haskell-base-unicode-symbols
    - haskell-base16-bytestring
    - haskell-base64-bytestring
    - haskell-basement
    - haskell-bifunctors
    - haskell-bitvec
    - haskell-blaze-builder
    - haskell-blaze-html
    - haskell-blaze-markup
    - haskell-boring
    - haskell-bsb-http-chunked
    - haskell-byteorder
    - haskell-call-stack
    - haskell-case-insensitive
    - haskell-cassava
    - haskell-cereal
    - haskell-citeproc
    - haskell-cmdargs
    - haskell-colour
    - haskell-commonmark
    - haskell-commonmark-extensions
    - haskell-commonmark-pandoc
    - haskell-comonad
    - haskell-conduit
    - haskell-conduit-extra
    - haskell-constraints
    - haskell-contravariant
    - haskell-cookie
    - haskell-crypton
    - haskell-crypton-connection
    - haskell-crypton-x509
    - haskell-crypton-x509-store
    - haskell-crypton-x509-system
    - haskell-crypton-x509-validation
    - haskell-data-array-byte
    - haskell-data-default
    - haskell-data-default-class
    - haskell-data-default-instances-containers
    - haskell-data-default-instances-dlist
    - haskell-data-default-instances-old-locale
    - haskell-data-fix
    - haskell-dec
    - haskell-digest
    - haskell-distributive
    - haskell-dlist
    - haskell-doclayout
    - haskell-doctemplates
    - haskell-easy-file
    - haskell-emojis
    - haskell-erf
    - haskell-fast-logger
    - haskell-file-embed
    - haskell-foldable1-classes-compat
    - haskell-generically
    - haskell-ghc-bignum-orphans
    - haskell-glob
    - haskell-gridtables
    - haskell-haddock-library
    - haskell-hashable
    - haskell-hourglass
    - haskell-hslua
    - haskell-hslua-aeson
    - haskell-hslua-classes
    - haskell-hslua-core
    - haskell-hslua-list
    - haskell-hslua-marshalling
    - haskell-hslua-module-doclayout
    - haskell-hslua-module-path
    - haskell-hslua-module-system
    - haskell-hslua-module-text
    - haskell-hslua-module-version
    - haskell-hslua-module-zip
    - haskell-hslua-objectorientation
    - haskell-hslua-packaging
    - haskell-hslua-repl
    - haskell-hslua-typing
    - haskell-http-api-data
    - haskell-http-client
    - haskell-http-client-tls
    - haskell-http-date
    - haskell-http-media
    - haskell-http-types
    - haskell-http2
    - haskell-hunit
    - haskell-indexed-traversable
    - haskell-indexed-traversable-instances
    - haskell-integer-logarithms
    - haskell-iproute
    - haskell-ipynb
    - haskell-isocline
    - haskell-jira-wiki-markup
    - haskell-juicypixels
    - haskell-lexer
    - haskell-libyaml
    - haskell-lpeg
    - haskell-lua
    - haskell-memory
    - haskell-mime-types
    - haskell-mmorph
    - haskell-monad-control
    - haskell-mono-traversable
    - haskell-network
    - haskell-network-byte-order
    - haskell-network-uri
    - haskell-old-locale
    - haskell-old-time
    - haskell-onetuple
    - haskell-only
    - haskell-optparse-applicative
    - haskell-ordered-containers
    - haskell-os-string
    - haskell-pandoc
    - haskell-pandoc-lua-engine
    - haskell-pandoc-lua-marshal
    - haskell-pandoc-server
    - haskell-pandoc-types
    - haskell-pem
    - haskell-pretty-show
    - haskell-prettyprinter
    - haskell-primitive
    - haskell-psqueues
    - haskell-quickcheck
    - haskell-random
    - haskell-recv
    - haskell-regex-base
    - haskell-regex-tdfa
    - haskell-resourcet
    - haskell-safe
    - haskell-safe-exceptions
    - haskell-scientific
    - haskell-semialign
    - haskell-semigroupoids
    - haskell-servant
    - haskell-servant-server
    - haskell-sha
    - haskell-simple-sendfile
    - haskell-singleton-bool
    - haskell-skylighting
    - haskell-skylighting-core
    - haskell-skylighting-format-ansi
    - haskell-skylighting-format-blaze-html
    - haskell-skylighting-format-context
    - haskell-skylighting-format-latex
    - haskell-socks
    - haskell-some
    - haskell-sop-core
    - haskell-split
    - haskell-splitmix
    - haskell-statevar
    - haskell-streaming-commons
    - haskell-strict
    - haskell-syb
    - haskell-tagged
    - haskell-tagsoup
    - haskell-temporary
    - haskell-texmath
    - haskell-text-conversions
    - haskell-text-icu
    - haskell-text-short
    - haskell-th-abstraction
    - haskell-th-compat
    - haskell-th-lift
    - haskell-th-lift-instances
    - haskell-these
    - haskell-time-compat
    - haskell-time-manager
    - haskell-tls
    - haskell-toml-parser
    - haskell-transformers-base
    - haskell-transformers-compat
    - haskell-type-equality
    - haskell-typed-process
    - haskell-typst
    - haskell-typst-symbols
    - haskell-unicode-collation
    - haskell-unicode-data
    - haskell-unicode-transforms
    - haskell-uniplate
    - haskell-unix-compat
    - haskell-unix-time
    - haskell-unliftio
    - haskell-unliftio-core
    - haskell-unordered-containers
    - haskell-utf8-string
    - haskell-uuid-types
    - haskell-vault
    - haskell-vector
    - haskell-vector-algorithms
    - haskell-vector-stream
    - haskell-wai
    - haskell-wai-app-static
    - haskell-wai-cors
    - haskell-wai-extra
    - haskell-wai-logger
    - haskell-warp
    - haskell-witherable
    - haskell-word8
    - haskell-xml
    - haskell-xml-conduit
    - haskell-xml-types
    - haskell-yaml
    - haskell-zip-archive
    - haskell-zlib
    - hicolor-icon-theme
    - hidapi
    - highlight
    - highway
    - hslua-cli
    - htop
    - hwdata
    - i3-wm
    - i3blocks
    - i3lock
    - i3status
    - iana-etc
    - icu
    - ijs
    - imlib2
    - iniparser
    - iproute2
    - iptables
    - iputils
    - iso-codes
    - ispell
    - iwd
    - jansson
    - java-environment-common
    - java-runtime-common
    - jbig2dec
    - jbigkit
    - jdk-openjdk
    - jemalloc
    - jq
    - json-c
    - json-glib
    - judy
    - kbd
    - keyutils
    - kmod
    - krb5
    - l-smash
    - lame
    - lcms2
    - less
    - lib32-glibc
    - lib32-xz
    - libaio
    - libappindicator-gtk3
    - libarchive
    - libass
    - libassuan
    - libasyncns
    - libavc1394
    - libavif
    - libbluray
    - libbpf
    - libbs2b
    - libbsd
    - libburn
    - libcaca
    - libcacard
    - libcanberra
    - libcap
    - libcap-ng
    - libcloudproviders
    - libcolord
    - libcss
    - libcups
    - libdaemon
    - libdatrie
    - libdbusmenu-glib
    - libdbusmenu-gtk3
    - libde265
    - libdom
    - libdovi
    - libdrm
    - libdv
    - libdvdnav
    - libdvdread
    - libedit
    - libelf
    - libepoxy
    - libev
    - libevdev
    - libevent
    - libexif
    - libfdk-aac
    - libffi
    - libfontenc
    - libfreeaptx
    - libgcrypt
    - libgirepository
    - libglvnd
    - libgpg-error
    - libgtop
    - libgudev
    - libheif
    - libhubbub
    - libice
    - libidn
    - libidn2
    - libiec61883
    - libimagequant
    - libinput
    - libisl
    - libisoburn
    - libisofs
    - libjpeg-turbo
    - libjxl
    - libksba
    - liblc3
    - libldac
    - libldap
    - libluv
    - libmalcontent
    - libmaxminddb
    - libmd
    - libmediainfo
    - libmm-glib
    - libmms
    - libmnl
    - libmodplug
    - libmpc
    - libmysofa
    - libnbd
    - libndp
    - libnet
    - libnetfilter_conntrack
    - libnewt
    - libnfnetlink
    - libnfs
    - libnftnl
    - libnghttp2
    - libnghttp3
    - libnice
    - libnl
    - libnm
    - libnma
    - libnma-common
    - libnsl
    - libogg
    - libomxil-bellagio
    - libopenmpt
    - libosinfo
    - libotf
    - libp11-kit
    - libpaper
    - libparserutils
    - libpcap
    - libpciaccess
    - libpgm
    - libpipeline
    - libpipewire
    - libplacebo
    - libpng
    - libproxy
    - libpsl
    - libpulse
    - libraqm
    - libraw1394
    - librsvg
    - libsamplerate
    - libsasl
    - libseccomp
    - libsecret
    - libshout
    - libsigc++-3.0
    - libsigsegv
    - libslirp
    - libsm
    - libsndfile
    - libsodium
    - libsoup3
    - libsoxr
    - libssh
    - libssh2
    - libstemmer
    - libsynctex
    - libsysprof-capture
    - libtasn1
    - libteam
    - libthai
    - libtheora
    - libtiff
    - libtirpc
    - libtool
    - libtraceevent
    - libtracefs
    - libunibreak
    - libunistring
    - libunwind
    - liburcu
    - liburing
    - libusb
    - libutempter
    - libutf8proc
    - libuv
    - libva
    - libvdpau
    - libverto
    - libvirt
    - libvirt-glib
    - libvirt-python
    - libvorbis
    - libvpl
    - libvpx
    - libvterm
    - libwacom
    - libwapcaplet
    - libwebp
    - libwireplumber
    - libx11
    - libxau
    - libxaw
    - libxcb
    - libxcomposite
    - libxcrypt
    - libxcursor
    - libxcvt
    - libxdamage
    - libxdg-basedir
    - libxdmcp
    - libxdp
    - libxext
    - libxfce4ui
    - libxfce4util
    - libxfixes
    - libxfont2
    - libxft
    - libxi
    - libxinerama
    - libxkbcommon
    - libxkbcommon-x11
    - libxkbfile
    - libxklavier
    - libxml2
    - libxmlb
    - libxmu
    - libxpm
    - libxrandr
    - libxrender
    - libxres
    - libxshmfence
    - libxslt
    - libxss
    - libxt
    - libxtst
    - libxv
    - libxxf86vm
    - libyaml
    - libyuv
    - libzen
    - libzip
    - licenses
    - lightdm
    - lightdm-gtk-greeter
    - lilv
    - linux-api-headers
    - linux-firmware
    - linux-firmware-whence
    - linux-lts
    - linux-lts-headers
    - lksctp-tools
    - llvm
    - llvm-libs
    - lm_sensors
    - lmdb
    - lua
    - lua-lpeg
    - lua51-lpeg
    - luajit
    - luit
    - lv2
    - lz4
    - lzo
    - m17n-db
    - m17n-lib
    - m4
    - mailcap
    - make
    - man-db
    - mediainfo
    - mesa
    - mkinitcpio
    - mkinitcpio-busybox
    - mobile-broadband-provider-info
    - mpdecimal
    - mpfr
    - mpg123
    - msgpack-c
    - mtd-utils
    - mtdev
    - nano
    - ncurses
    - ndctl
    - neovim
    - netavark
    - netpbm
    - nettle
    - network-manager-applet
    - networkmanager
    - nfs-utils
    - nfsidmap
    - nftables
    - nlohmann-json
    - nm-connection-editor
    - npth
    - nspr
    - nss
    - numactl
    - ocl-icd
    - oniguruma
    - openbsd-netcat
    - opencore-amr
    - openjpeg2
    - openssh
    - openssl
    - opus
    - orc
    - osinfo-db
    - ostree
    - p11-kit
    - p7zip
    - pacman
    - pacman-mirrorlist
    - pahole
    - pam
    - pambase
    - pandoc-cli
    - pango
    - pangomm-2.48
    - parted
    - passt
    - patch
    - pavucontrol
    - pciutils
    - pcre
    - pcre2
    - pcsclite
    - perl
    - perl-error
    - perl-image-exiftool
    - perl-mailtools
    - perl-timedate
    - phodav
    - pinentry
    - pipewire
    - pipewire-alsa
    - pipewire-audio
    - pipewire-jack
    - pipewire-pulse
    - pipewire-session-manager
    - pixman
    - pkgconf
    - podman
    - podman-compose
    - polkit
    - poppler
    - poppler-data
    - popt
    - portaudio
    - potrace
    - procps-ng
    - protobuf
    - protobuf-c
    - psmisc
    - python
    - python-astroid
    - python-attrs
    - python-bcrypt
    - python-cairo
    - python-cffi
    - python-charset-normalizer
    - python-click
    - python-colorama
    - python-configobj
    - python-cryptography
    - python-dill
    - python-docopt
    - python-docstring-to-markdown
    - python-dotenv
    - python-dulwich
    - python-fastbencode
    - python-gobject
    - python-idna
    - python-isort
    - python-jedi
    - python-jinja
    - python-lsp-jsonrpc
    - python-lsp-server
    - python-markupsafe
    - python-mccabe
    - python-merge3
    - python-packaging
    - python-paramiko
    - python-parso
    - python-patiencediff
    - python-pillow
    - python-platformdirs
    - python-pluggy
    - python-protobuf
    - python-psutil
    - python-pycparser
    - python-pylint
    - python-pynacl
    - python-requests
    - python-resolvelib
    - python-six
    - python-toml
    - python-tomlkit
    - python-typing_extensions
    - python-tzlocal
    - python-ujson
    - python-urllib3
    - python-urwid
    - python-wcwidth
    - python-websockets
    - python-yaml
    - qemu-audio-alsa
    - qemu-audio-dbus
    - qemu-audio-jack
    - qemu-audio-oss
    - qemu-audio-pa
    - qemu-audio-pipewire
    - qemu-audio-sdl
    - qemu-audio-spice
    - qemu-base
    - qemu-block-curl
    - qemu-block-dmg
    - qemu-block-nfs
    - qemu-block-ssh
    - qemu-chardev-spice
    - qemu-common
    - qemu-desktop
    - qemu-emulators-full
    - qemu-hw-display-qxl
    - qemu-hw-display-virtio-gpu
    - qemu-hw-display-virtio-gpu-gl
    - qemu-hw-display-virtio-gpu-pci
    - qemu-hw-display-virtio-gpu-pci-gl
    - qemu-hw-display-virtio-vga
    - qemu-hw-display-virtio-vga-gl
    - qemu-hw-usb-host
    - qemu-hw-usb-redirect
    - qemu-hw-usb-smartcard
    - qemu-img
    - qemu-system-aarch64
    - qemu-system-alpha
    - qemu-system-alpha-firmware
    - qemu-system-arm
    - qemu-system-arm-firmware
    - qemu-system-avr
    - qemu-system-cris
    - qemu-system-hppa
    - qemu-system-hppa-firmware
    - qemu-system-loongarch64
    - qemu-system-m68k
    - qemu-system-microblaze
    - qemu-system-microblaze-firmware
    - qemu-system-mips
    - qemu-system-or1k
    - qemu-system-ppc
    - qemu-system-ppc-firmware
    - qemu-system-riscv
    - qemu-system-riscv-firmware
    - qemu-system-rx
    - qemu-system-s390x
    - qemu-system-s390x-firmware
    - qemu-system-sh4
    - qemu-system-sparc
    - qemu-system-sparc-firmware
    - qemu-system-tricore
    - qemu-system-x86
    - qemu-system-x86-firmware
    - qemu-system-xtensa
    - qemu-ui-curses
    - qemu-ui-dbus
    - qemu-ui-egl-headless
    - qemu-ui-gtk
    - qemu-ui-opengl
    - qemu-ui-sdl
    - qemu-ui-spice-app
    - qemu-ui-spice-core
    - qemu-user
    - qemu-user-static
    - qemu-user-static-binfmt
    - qemu-vhost-user-gpu
    - r2ghidra
    - radare2
    - ranger
    - rav1e
    - re2
    - readline
    - ripgrep
    - ripgrep-all
    - rofi
    - rpcbind
    - rpmextract
    - rsync
    - rtkit
    - rubberband
    - ruby
    - ruby-activesupport
    - ruby-bundler
    - ruby-concurrent
    - ruby-i18n
    - ruby-language_server-protocol
    - ruby-lsp
    - ruby-m
    - ruby-method_source
    - ruby-minitest
    - ruby-minitest-power_assert
    - ruby-power_assert
    - ruby-prism
    - ruby-prism-debug
    - ruby-rake
    - ruby-rbs
    - ruby-tzinfo
    - ruby-zeitwerk
    - rubygems
    - runc
    - s-tui
    - sasquatch-git
    - sasquatch-git-debug
    - sbc
    - scrot
    - sdl2
    - sdl2_image
    - seabios
    - sed
    - serd
    - shaderc
    - shadow
    - shared-mime-info
    - skopeo
    - slang
    - smartmontools
    - snappy
    - sord
    - sound-theme-freedesktop
    - spdlog
    - speex
    - speexdsp
    - spice
    - spice-gtk
    - spice-protocol
    - spirv-tools
    - sqlite
    - squashfs-tools
    - squashfuse
    - sratom
    - srt
    - startup-notification
    - stress
    - stress-ng
    - sudo
    - svt-av1
    - systemd
    - systemd-libs
    - systemd-sysvcompat
    - taglib
    - tar
    - tcl
    - tcpdump
    - tdb
    - texinfo
    - texlive-basic
    - texlive-bibtexextra
    - texlive-bin
    - texlive-binextra
    - texlive-context
    - texlive-fontsextra
    - texlive-fontsrecommended
    - texlive-fontutils
    - texlive-formatsextra
    - texlive-games
    - texlive-humanities
    - texlive-latex
    - texlive-latexextra
    - texlive-latexrecommended
    - texlive-luatex
    - texlive-mathscience
    - texlive-metapost
    - texlive-music
    - texlive-pictures
    - texlive-plaingeneric
    - texlive-pstricks
    - texlive-publishers
    - texlive-xetex
    - tinysparql
    - tinyxml2
    - tmux
    - tpm2-tss
    - tre
    - tree-sitter
    - tree-sitter-c
    - tree-sitter-lua
    - tree-sitter-markdown
    - tree-sitter-query
    - tree-sitter-vim
    - tree-sitter-vimdoc
    - twolame
    - tzdata
    - ueberzug
    - unibilium
    - unrar
    - unzip
    - usb_modeswitch
    - usbredir
    - usbutils
    - util-linux
    - util-linux-libs
    - v4l-utils
    - vagrant
    - vapoursynth
    - vde2
    - vid.stab
    - vim
    - vim-runtime
    - virglrenderer
    - virt-install
    - virt-manager
    - virtiofsd
    - vmaf
    - vte-common
    - vte3
    - vulkan-icd-loader
    - vulkan-radeon
    - w3m
    - wavpack
    - wayland
    - webrtc-audio-processing-1
    - wget
    - which
    - wireless_tools
    - wireplumber
    - woff2
    - wolfssl
    - wpa_supplicant
    - x11-ssh-askpass
    - x264
    - x265
    - xbitmaps
    - xcb-proto
    - xcb-util
    - xcb-util-cursor
    - xcb-util-image
    - xcb-util-keysyms
    - xcb-util-renderutil
    - xcb-util-wm
    - xcb-util-xrm
    - xdg-dbus-proxy
    - xdg-desktop-portal
    - xdg-utils
    - xf86-input-libinput
    - xf86-video-amdgpu
    - xf86-video-ati
    - xfce4-terminal
    - xfconf
    - xkeyboard-config
    - xorg-fonts-encodings
    - xorg-server
    - xorg-server-common
    - xorg-setxkbmap
    - xorg-xauth
    - xorg-xinit
    - xorg-xkbcomp
    - xorg-xmodmap
    - xorg-xprop
    - xorg-xrdb
    - xorg-xset
    - xorgproto
    - xterm
    - xvidcore
    - xxhash
    - xz
    - yajl
    - zaproxy
    - zeromq
    - zimg
    - zix
    - zlib
    - zram-generator
    - zstd
    - zziplib
    - gdb


- name: Enable Systemd Services
  ansible.builtin.systemd_service:
    name: libvirtd
    enabled: true
